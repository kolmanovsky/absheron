{% extends "base.html" %}

{% block title %}Изображение #{{ image.id }} — Absheron{% endblock %}

{% block content %}
<h1 style="margin:0 0 8px">Изображение #{{ image.id }}</h1>
<div class="muted">Загрузил: {{ image.uploaded_by.username }} · {{ image.uploaded_at|date:"Y-m-d H:i" }}</div>

{% if image.tags.all %}
  <div style="margin:10px 0; display:flex; flex-wrap:wrap; gap:6px">
    {% for tg in image.tags.all %}
      <a class="tag" href="{% url 'image_list' %}?tag={{ tg.name|urlencode }}" style="background:#f3f4f6;color:#374151;padding:2px 8px;border-radius:999px;font-size:12px">{{ tg.name }}</a>
    {% endfor %}
  </div>
{% endif %}

{% if image.file %}
  <figure style="margin-top:16px">
    <img src="{{ image.file.url }}" alt="image {{ image.id }}" style="max-width:100%;height:auto;border-radius:8px;background:#f3f4f6">
    {% if image.description %}
      <figcaption class="muted" style="margin-top:8px">{{ image.description }}</figcaption>
    {% endif %}
  </figure>
{% else %}
  <p class="muted" style="margin-top:16px">Файл изображения отсутствует.</p>
{% endif %}

<hr style="margin:24px 0">

<section>
  <h2 style="margin:0 0 8px">Комментарии (плейсхолдер)</h2>
  <p class="muted">Здесь появится обсуждение к изображению.</p>
</section>
{% endblock %}
